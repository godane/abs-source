# $Id: PKGBUILD 6034 2009-11-26 08:20:51Z giovanni $
# Maintainer: Jaroslaw Swierczynski <swiergot@aur.archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@aur.archlinux.org>

pkgname=tuxcmd
pkgver=0.6.70
pkgrel=1
arch=('i686' 'x86_64')
pkgdesc="A GTK2 file manager with two panels"
url="http://tuxcmd.sourceforge.net/"
license=('GPL')
depends=('gtk2')
install=$pkgname.install
source=($pkgname.desktop 
        $pkgname.install
        $pkgname.png)
if [ "${CARCH}" = 'i686' ]; then
  source=(http://downloads.sourceforge.net/sourceforge/$pkgname/$pkgname-$pkgver-bin-i386.tar.bz2
          http://downloads.sourceforge.net/sourceforge/$pkgname/$pkgname-modules-$pkgver-bin-i386.tar.bz2
          $pkgname.desktop 
          $pkgname.install
          $pkgname.png)
  md5sums=('054b8900986237d94e6988deb6ced858'
           '393bed8375c47e0a8092f58c210c8f52'
           '2aeab19955803155de5cead166e58a3b'
           'a8c14e0a2f4691ee9b44a1913bb7c67e'
           'a8e5b837fa12fb68c911c94a843899e7')

elif [ "${CARCH}" = 'x86_64' ]; then
  source=(http://downloads.sourceforge.net/sourceforge/$pkgname/$pkgname-$pkgver-bin-${CARCH}.tar.bz2 
          http://downloads.sourceforge.net/sourceforge/$pkgname/$pkgname-modules-$pkgver-bin-${CARCH}.tar.bz2
          $pkgname.desktop 
          $pkgname.install
          $pkgname.png)
  md5sums=('3f5cbcdecbd4a6e5131d958f99fe6d06'
           '068fd553d5bb886f3f8606d69dcb65c6'
           '2aeab19955803155de5cead166e58a3b'
           'a8c14e0a2f4691ee9b44a1913bb7c67e'
           'a8e5b837fa12fb68c911c94a843899e7')
fi

build() {
  if [ "${CARCH}" = 'i686' ]; then
    cd ${srcdir}/${pkgname}-${pkgver}-bin-i386
    install -d -m755 ${pkgdir}/usr/lib/$pkgname
    install -Dm755 ${pkgname} "${pkgdir}/usr/bin/${pkgname}"
    cd ${srcdir}/${pkgname}-modules-${pkgver}-bin-i386
    cp * "${pkgdir}/usr/lib/${pkgname}"
    install -Dm644 ${srcdir}/${pkgname}.desktop "${pkgdir}/usr/share/applications/${pkgname}.desktop" || return 1
    install -Dm644 ${srcdir}/${pkgname}.png "${pkgdir}/usr/share/pixmaps/${pkgname}.png" || return 1

  elif [ "${CARCH}" = 'x86_64' ]; then
    cd ${srcdir}/${pkgname}-${pkgver}-bin-${CARCH}
    install -d -m755 ${pkgdir}/usr/lib/$pkgname
    install -Dm755 ${pkgname} "${pkgdir}/usr/bin/${pkgname}"
    cd ${srcdir}/${pkgname}-modules-${pkgver}-bin-${CARCH}
    cp * "${pkgdir}/usr/lib/${pkgname}"
    install -Dm644 ${srcdir}/${pkgname}.desktop "${pkgdir}/usr/share/applications/${pkgname}.desktop" || return 1
    install -Dm644 ${srcdir}/${pkgname}.png "${pkgdir}/usr/share/pixmaps/${pkgname}.png" || return 1
fi
}
