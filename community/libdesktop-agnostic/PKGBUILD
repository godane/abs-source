# Maintainer: Daniel J Griffiths <ghost1227@archlinux.us>

pkgname=libdesktop-agnostic
pkgver=0.3.90
pkgrel=1
pkgdesc="Provides an extensible config API, a unified virtual fs API, and a desktop item editor for GLib-based projects."
arch=('i686' 'x86_64')
url="https://launchpad.net/libdesktop-agnostic"
license=('GPL')
depends=('glib2' 'gtk2' 'pygtk' 'pygobject')
makedepends=('gobject-introspection' 'vala')
options=('!libtool')
source=(https://launchpad.net/${pkgname}/0.4/${pkgver}/+download/${pkgname}-${pkgver}.tar.gz)
md5sums=('67141440b7fa77e2d704e7368c067212')

build() {
	cd ${srcdir}/${pkgname}-${pkgver}

	./waf configure --config-backends=keyfile --vfs-backends=gio \
	    --desktop-entry-backends=glib --prefix=/usr  || return 1
	./waf || return 1
}

package() {
	cd ${srcdir}/${pkgname}-${pkgver}

	./waf install --destdir=${pkgdir} --sysconfdir=${pkgdir}/etc || return 1
}
