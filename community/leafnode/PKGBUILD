# $Id: PKGBUILD 10992 2010-02-04 21:33:57Z spupykin $
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# You need an news user and group to build this package

pkgname=leafnode
pkgver=1.11.7
pkgrel=3
pkgdesc="implements a store & forward NNTP proxy (client and server) with IPv4 and IPv6"
arch=('i686' 'x86_64')
url="http://leafnode.sourceforge.net/"
depends=(pcre xinetd)
license=('GPL')
install=(leafnode.install)
options=(!emptydirs)
backup=(etc/xinet.d/leafnode)
source=(http://downloads.sf.net/sourceforge/$pkgname/$pkgname-$pkgver.tar.bz2
	leafnode.xinetd)
md5sums=('e5e8ac28386c59df0b14ddbfcbe78509'
         'db3c6ad1ff9fc03442949456d1d21304')

build() {
  cd $srcdir/$pkgname-$pkgver
  ./configure --prefix=/usr --localstatedir=/var --sysconfdir=/etc/leafnode
  make || return 1
  make DESTDIR=$pkgdir install && \
  chown -R root.root $pkgdir && \
  install -D -m0644 $srcdir/leafnode.xinetd $pkgdir/etc/xinetd.d/leafnode
}

