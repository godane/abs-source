# $Id: PKGBUILD 6631 2009-12-18 12:07:10Z spupykin $
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: Sergej Pupykin <pupykin.s+arch@gmail.com>

pkgname=delegate
pkgver=9.9.7
pkgrel=1
pkgdesc="Caching and converting multyprotocol proxy. For example, you may use it as NNTP web interface"
arch=('i686' 'x86_64')
url="http://www.delegate.org/"
license=('GPL')
depends=('pam')
options=(!strip)
install=delegate.install
source=(http://www.sfr-fresh.com/unix/misc/${pkgname}${pkgver}.tar.gz)
md5sums=('86c833e95cd16a54d54fa3c7e4ab7929')

build() {
  cd $startdir/src/$pkgname$pkgver
  make ADMIN="root@localhost" || return 1

  install -D -m0755 src/delegated $startdir/pkg/usr/bin/delegated || return 1

  install -D -m0755 subin/dgbind $startdir/pkg/usr/sbin/dgbind || return 1
  install -D -m0755 subin/dgchroot $startdir/pkg/usr/sbin/dgchroot || return 1
  install -D -m0755 subin/dgcpnod $startdir/pkg/usr/sbin/dgcpnod || return 1
  install -D -m0755 subin/dgpam $startdir/pkg/usr/sbin/dgpam || return 1

  install -D -m0644 doc/Manual.htm $startdir/pkg/usr/share/delegate/manual.htm || return 1
  install -D -m0644 doc/tutor-en.htm $startdir/pkg/usr/share/delegate/tutor-en.htm || return 1
}
